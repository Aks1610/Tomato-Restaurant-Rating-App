{"version":3,"sources":["Rating.js","Login.js","LeaderBoard.js","App.js","index.js"],"names":["Rating","props","_useState","useState","_useState2","Object","slicedToArray","rest","setRest","_useState3","_useState4","currentIndex","setIndex","_useState5","_useState6","rating","setRating","_useState7","_useState8","isLoading","setLoading","useEffect","axios","get","api","allResturant","then","res","data","statusCode","response","catch","err","console","log","length","react_default","a","createElement","className","restaurant_name","build_default","starRatedColor","changeRating","event","numberOfStars","name","concat","onClick","post","saveRating","restaurant_id","user_id","history","push","disabled","Login","username","setUsername","password","setPassword","htmlFor","type","placeholder","value","onChange","e","target","trim","alert","LeaderBoard","leader","setLeader","Axios","leaderBoard","map","item","key","undefined","avg_rating","starDimension","starSpacing","styles","cardHeight","minHeight","rootElement","document","getElementById","ReactDOM","render","style","react_router_dom","react_router","exact","path","src_Login","src_Rating","src_LeaderBoard"],"mappings":"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","file":"static/js/main.19ffc05c.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport StarRatings from \"react-star-ratings\";\nimport axios from \"axios\";\nimport api from \"./api.json\";\n\nconst Rating = props => {\n  const [rest, setRest] = useState([]);\n  const [currentIndex, setIndex] = useState(0);\n  const [rating, setRating] = useState(0);\n  const [isLoading, setLoading] = useState(false);\n  useEffect(() => {\n    axios\n      .get(api.allResturant)\n      .then(res => {\n        if (res.data.statusCode === 200) {\n          setRest(res.data.response);\n        }\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  const saveRating = () => {\n    setLoading(true);\n    if (currentIndex < rest.length - 1) {\n      axios\n        .post(api.saveRating, {\n          restaurant_name: rest[currentIndex].restaurant_name,\n          restaurant_id: rest[currentIndex].restaurant_name,\n          user_id: \"98789\",\n          rating: rating\n        })\n        .then(res => {\n          setRating(0);\n          setLoading(false);\n          setIndex(currentIndex + 1);\n        });\n    } else {\n      props.history.push(\"/leaderboard\");\n    }\n  };\n\n  if (rest.length) {\n    return (\n      <div>\n        <div className=\"title has-text-centered\">\n          {rest[currentIndex].restaurant_name}\n        </div>\n        <StarRatings\n          rating={rating}\n          starRatedColor=\"blue\"\n          changeRating={event => {\n            setRating(event);\n          }}\n          numberOfStars={5}\n          name=\"rating\"\n        />\n        <br />\n        <br />\n        <br />\n        <div className=\"buttons is-centered\">\n          <button\n            className={`button is-primary ${isLoading ? \"is-loading\" : \"\"}`}\n            onClick={() => {\n              saveRating();\n            }}\n            disabled={isLoading}\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"pageloader is-right-to-left\">\n        <span className=\"title\">Loading...</span>\n      </div>\n    );\n  }\n};\n\nexport default Rating;\n","import React, { useState, useEffect } from \"react\";\n\nconst Login = props => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const checkForLogin = () => {\n    if (username.trim === \"\" || password === \"\") {\n      alert(\"Wrong username or password\");\n    } else {\n      props.history.push(\"/rating\");\n    }\n  };\n  return (\n    <div className=\"column is-7\">\n      <div className=\"field\">\n        <label htmlFor=\"userName\" className=\" label\">\n          User Name\n        </label>\n        <div className=\"control \">\n          <input\n            type=\"text\"\n            className=\"input\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n          />\n        </div>\n      </div>\n      <div className=\"field\">\n        <label htmlFor=\"password\" className=\"label\">\n          Password\n        </label>\n        <input\n          className=\"input\"\n          placeholder=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n        />\n      </div>\n      <div className=\"buttons is-centered\">\n        <button\n          onClick={() => {\n            checkForLogin();\n          }}\n          className=\"button is-primary \"\n        >\n          Login\n        </button>\n      </div>\n    </div>\n  );\n};\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport StarRatings from \"react-star-ratings\";\nimport api from \"./api.json\";\n\nconst LeaderBoard = () => {\n  const [leader, setLeader] = useState([]);\n  useEffect(() => {\n    Axios.get(api.leaderBoard).then(res => {\n      if (res.data.statusCode === 200) {\n        setLeader(res.data.response);\n      }\n    });\n  }, []);\n  if (leader.length) {\n    return (\n      <div className=\"section\">\n        <span className=\"title has-text-centered\">LeaderBoard</span>\n        {leader.map(item => {\n          return (\n            <div className=\"container\">\n              <div key={item.restaurant_id} className=\"list is-hoverable\">\n                <div className=\"is-Flex list-item\">\n                  <span>{item.restaurant_name}</span>\n                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <span className=\"\">\n                    <StarRatings\n                      rating={\n                        item.avg_rating !== undefined ? item.avg_rating : 0\n                      }\n                      starRatedColor=\"blue\"\n                      numberOfStars={5}\n                      starDimension=\"30px\"\n                      starSpacing=\"5px\"\n                      name=\"rating\"\n                    />\n                  </span>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  } else {\n    return <div>Loading...</div>;\n  }\n};\n\nexport default LeaderBoard;\n","import React from \"react\";\nimport \"./styles.css\";\nimport Rating from \"./Rating\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport LeaderBoard from \"./LeaderBoard\";\n\nexport default function App() {\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <div className=\"columns is-mobile is-centered\">\n          <div className=\"column is-half is-centered\">\n            <div\n              className=\"message is-dark is-centered\"\n              style={styles.cardHeight}\n            >\n              <div className=\"message-header\">\n                <p>Tomato Rating App</p>\n              </div>\n              <div className=\"message-body\">\n                <div className=\"columns is-centered\">\n                  <BrowserRouter>\n                    <Route\n                      exact\n                      path=\"/\"\n                      render={props => <Login {...props} />}\n                    />\n                    <Route\n                      path=\"/login\"\n                      render={props => <Login {...props} />}\n                    />\n                    <Route\n                      path=\"/rating\"\n                      render={props => <Rating {...props} />}\n                    />\n                    <Route\n                      path=\"/leaderboard\"\n                      render={props => <LeaderBoard {...props} />}\n                    />\n                  </BrowserRouter>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nconst styles = {\n  cardHeight: {\n    minHeight: \"500px\"\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bulma/css/bulma.css\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}